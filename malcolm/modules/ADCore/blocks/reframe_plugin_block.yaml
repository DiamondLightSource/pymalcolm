- builtin.parameters.string:
    name: mri
    description: Malcolm resource id of the Block

- builtin.parameters.string:
    name: prefix
    description: The root PV for the all records

- builtin.parameters.string:
    name: suffix
    description: The PV suffix specific to this plugin

- builtin.defines.docstring:
    value: |
      Hardware block corresponding to PVs used for NDPluginReframe plugin

      - NDPluginReframe.template should have pv prefix $(prefix)

- builtin.controllers.StatefulController:
    mri: $(mri)
    description: $(docstring)

# This includes the input port
- ADCore.includes.ndpluginbase_parts:
    prefix: $(prefix):$(suffix)
    mri: $(mri)

- ca.parts.CAActionPart:
    name: start
    description: Start acquisition
    pv: $(prefix):$(suffix):Capture
    status_pv: $(prefix):$(suffix):Mode_RBV
    good_status: Idle

- ca.parts.CAActionPart:
    name: stop
    description: Stop acquisition
    pv: $(prefix):$(suffix):Capture
    status_pv: $(prefix):$(suffix):Mode_RBV
    good_status: Idle
    value: 0

- ca.parts.CAChoicePart:
    name: acquireMode
    description: Acquisition mode readback
    rbv: $(prefix):$(suffix):Mode_RBV

- ca.parts.CAChoicePart:
    name: triggerMode
    description: Trigger mode
    pv: $(prefix):$(suffix):TriggerMode

- ca.parts.CALongPart:
    name: triggerCount
    description: Number of triggers
    pv: $(prefix):$(suffix):TriggerCount

- ca.parts.CALongPart:
    name: triggerCountReadback
    description: Number of output triggers
    rbv: $(prefix):$(suffix):OutputCount_RBV

- ca.parts.CAChoicePart:
    name: averageSamples
    description: Average samples
    pv: $(prefix):$(suffix):AverageSamples
